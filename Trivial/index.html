<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivial Ferroviario de Alta Velocidad</title>
    <!-- Importar fuente Poppins de Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Importar Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Enlace a tu hoja de estilos externa -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Pantalla de Inicio -->
        <div id="splash-screen" class="screen active">
            <i class="fas fa-train splash-logo"></i>
            <h1>Trivial Ferroviario de Alta Velocidad</h1>
            <button id="start-game-btn" class="btn">Iniciar Juego</button>
        </div>
        
        <!-- Pantalla de Configuración de Jugadores -->
        <div id="player-config-screen" class="screen">
            <button class="close-btn" data-target-screen="splash-screen">×</button>
            <h2>Número Jugadores</h2>
            <div class="player-count-selector">
                <button id="decrease-players-btn">-</button><span id="player-count">1</span><button id="increase-players-btn">+</button>
            </div>
            <div id="player-inputs"></div>
            <button id="start-match-btn" class="btn">Empezar Partida</button>
        </div>
        
        <!-- Pantalla de Configuración de Rondas -->
        <div id="round-config-screen" class="screen">
            <button class="close-btn" data-target-screen="player-config-screen">×</button>
            <h2>¿Cuántas preguntas por jugador?</h2>
            <div class="round-count-selector">
                <button id="decrease-rounds-btn">-</button><span id="round-count">5</span><button id="increase-rounds-btn">+</button>
            </div>
            <button id="start-game-from-rounds-btn" class="btn">¡A Jugar!</button>
        </div>
        
        <!-- Pantalla de Juego -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div id="current-player-turn-display"></div>
                <div class="header-group">
                    <button id="fifty-fifty-btn" class="joker-btn" title="Elimina 2 respuestas incorrectas"><i class="fas fa-divide"></i><span class="joker-text">50/50</span></button>
                    <button id="show-score-btn" class="fas fa-medal btn-icon"></button>
                    <button id="exit-game-btn" class="fas fa-times btn-icon"></button>
                </div>
            </div>
            
            <div id="question-area">
                <div id="timer-container"><div id="timer-bar"></div></div>
                <div class="category-display"><i id="category-icon" class="fas fa-question-circle"></i><span id="category-name">Categoría</span></div>
                <p id="question-text">Cargando pregunta...</p>
                <div id="options-grid" class="options-grid"></div>
                
                <div id="feedback-overlay">
                    <div id="feedback-card">
                        <button id="close-feedback-btn" class="close-btn">×</button>
                        <p id="feedback-text-content"></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pantalla de Fin de Partida -->
        <div id="end-screen" class="screen">
            <button class="close-btn" data-target-screen="splash-screen">×</button>
            <div id="confetti-container"></div>
            <h2>¡Partida Terminada!</h2>
            <div id="winner-announcement-card"></div>
            <div id="podium-container" class="podium-container"></div>
            <div id="other-scores-container" class="other-scores-list"></div>
            <button id="play-again-btn" class="btn">Volver a Jugar</button>
        </div>
        
        <!-- Modal de Puntuación -->
        <div id="score-modal" class="modal-overlay">
            <div class="modal-content">
                <button class="close-btn" data-target-screen="hide-modal">×</button>
                <h3><i class="fas fa-trophy"></i> Clasificación Actual</h3>
                <ul id="modal-score-list"></ul>
            </div>
        </div>
        
        <!-- Modal de Confirmación de Salida -->
        <div id="confirm-exit-modal" class="modal-overlay">
            <div class="modal-content">
                <h3>¿Estás seguro que quieres salir?</h3>
                <p>Se perderá el progreso actual de la partida.</p>
                <button id="confirm-exit-yes" class="btn">Sí, salir</button>
                <button id="confirm-exit-no" class="btn">No, continuar</button>
            </div>
        </div>
        
        <!-- Modal de Selección de Avatar -->
        <div id="avatar-selection-modal" class="modal-overlay">
            <div class="modal-content">
                <button class="close-btn" data-target-screen="hide-avatar-modal">×</button>
                <h3>Personaliza tu Jugador</h3>
                <h4>Elige tu Avatar</h4>
                <div id="avatar-grid"></div>
                <h4>Elige tu Color</h4>
                <div id="color-palette"></div>
            </div>
        </div>
    </div>

    <!-- Enlace a tu script externo. 'defer' asegura que el script se ejecute después de que el HTML sea analizado. -->
    <script src="script.js" defer></script>
</body>
</html>